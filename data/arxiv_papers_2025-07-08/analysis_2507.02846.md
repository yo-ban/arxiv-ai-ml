# Legal Requirements Translation from Law

## 基本情報
- arXiv ID: 2507.02846v1 (https://arxiv.org/abs/2507.02846)
- 著者: Anmol Singhal, Travis Breaux
- 所属: Carnegie Mellon University, Pittsburgh, USA
- 投稿日: 2024年07月03日
- カテゴリ: cs.AI

## 簡単に説明すると
この論文は、ソフトウェアシステムが法的規制に準拠するための要件を、法律文書から自動的に抽出し、Pythonコードとして表現する手法を提案しています。例えば、データ侵害通知法のような法律文を入力すると、「誰が」「何を」「どのような条件で」行う必要があるかを構造化されたPythonクラスとして出力します。

特に小規模な企業やスタートアップにとって、専門の法務担当者を雇うことなく複雑な法的要件を理解し、ソフトウェアに実装することが可能になります。本手法はGPT-4oを使用し、テキストエンテールメントとインコンテキスト学習を組み合わせており、米国13州のデータ侵害通知法で評価した結果、約89.4%のテストケースをパスしました。

## 1. 研究概要
### 1.1 背景と動機
テクノロジー企業は異なる法域にまたがって製品やサービスを展開しており、それぞれの地域の法的規制に準拠します。しかし、コンプライアンス検証はリソース集約的なプロセスであり、特に小規模企業やスタートアップにとっては大きな負担となります。

法律文書からのメタデータ抽出は、2つのタイプに分類されます。構造的メタデータは、法的規定の階層構造（セクション、サブセクション、相互参照など）を捕らえます。意味的メタデータは、義務・許可・禁止などの法的モダリティ、関係者、条件などを含みます。

既存手法の問題点は、これらのメタデータを独立した要素として抽出し、要素間の関係性を失うことです。例えば、メリーランド州のデータ侵害通知法では、異なるルールが相互依存しており、単独で抽出すると誤解釈の危険があります。

### 1.2 主要な貢献
本研究は、法律文書からソフトウェア要件を自動的に抽出する新しいアプローチを提案し、以下の4つの主要な貢献をしています。
- 構造的および意味的メタデータを捕らえ、それらの相互関係を保持する構造化された実行可能表現を提案。
- テキストエンテールメントとインコンテキスト学習に基づいて、法律文書の表現を自動生成する手法を提案。
- 生成された表現の正確性を評価するためのユニットテストベースの評価手法を提案。
- 法律メタデータ抽出における構造化コードベース表現と自然言語表現のトレードオフを分析。

## 2. 提案手法
### 2.1 手法の概要
本研究のアプローチは3つの主要ステップから構成されます。第1に、法律メタデータ表現のためのPythonクラス構造を設計します。この構造は、法律文書の構造的・意味的メタデータとそれらの相互関係を捕らえるためのドメイン固有メタモデルとして機能します。

第2に、テキストエンテールメントとコサイン類似度を使用したデモンストレーション選択戦略を開発します。これにより、インコンテキスト学習のための関連例を検索します。

第3に、法律テキストから構造化された法的エンコーディングを生成するコード生成プロンプトを設計します。LLMに法律文を入力し、事前定義されたPythonクラスをインスタンス化するコードを生成させます。

### 2.2 技術的詳細
Pythonクラス構造は、以下の主要クラスから構成されます。Sectionクラスは法律文書の階層構造を表現し、Expressionクラスはテキストの最小単位を表します。Statementクラスは複数のパラグラフにまたがる法的記述をカプセル化します。

Ruleクラスは義務、許可、禁止、罰則を表現し、rule_type、entity、conditionsなどの属性を持ちます。Definitionクラスは法的用語の定義を、Exemptionクラスは免除規定を表します。Referenceクラスは他のセクションへの参照を表現します。

デモンストレーション選択では、まずゼロショットプロンプトで入力法律テキストにラベルを割り当てます。次に、同じラベルを持つ開発セットの例を検索し、OpenAIのtext-embedding-3-largeモデルを使用してコサイン類似度が最も高い3つのデモンストレーションを選択します。

### 2.3 新規性
本手法の新規性は以下の点にあります。第1に、法律文書をPythonコードとして表現することで、構造的および意味的メタデータを同時に保持します。既存手法が個々の要素を独立して抽出するのに対し、本手法は要素間の関係性を明示的に表現します。

第2に、ヒューリスティックベースの手法と異なり、LLMを使用して動的にコードを生成するため、新しい法域や未知の法律への汎化性が向上します。大量のアノテーションデータセットが不要です。

第3に、生成されたコードはPythonインタプリタで実行可能であり、カスタム可視化や知識グラフ表現など、下流のコンプライアンス検証タスクに直接利用できます。

## 3. 実験結果
### 3.1 実験設定
データセットとして、米国13州のデータ侵害通知法を選定しました。これらの法律は、同じテーマ（個人情報が侵害された際の通知義務）を扱いながら、長さ、構成、定義にバリエーションがあります。選定した州は、アーカンソー、コネチカット、マサチューセッツ、メリーランド、ミシシッピ、ネバダ、ニューヨーク、オレゴン、ユタ、ウィスコンシン、カリフォルニア、バージニア、バーモントです。

各法律文書から正規表現を使用してパラグラフを抽出し、特殊文字や句読点の不一致を手動で修正した結果、合計332個の法律パラグラフを取得しました。これらを150個の開発セットと182個のテストセットに分割しました。

評価にはユニットテストフレームワークを採用し、各パラグラフに対して22個のテストケースを設計しました。コンパイルテスト、1個、構造テスト、5個、意味テスト、16個です。

### 3.2 主要な結果
全体的な精度は89.4%で、評価した7,304個のテストケースのうち6,529個がパスしました。属性レベルでは、精度（Precision）が82.2%、再現率（Recall）が88.7%でした。

個別のクラスごとの精度を見ると、Sectionクラスが96%と最も高く、次いでDefinition（89%）、Rule（88%）、Expression（84%）、Statement（81%）でした。Referenceクラスが74%と最も低く、相互参照の正確な解釈が難しいことを示しています。

pass@k評価では、k=1で59.8%、k=3で87.2%、k=5で94.5%という結果を得ました。これは、複数回のサンプリングを行うことで、実用的に高い精度が得られることを示しています。

### 3.3 既存手法との比較
ベースラインとしてJSON出力を使用した場合と比較しました。JSONベースラインの全体精度は75.3%で、本手法の89.4%を大きく下回りました。特に、要素間の関係性を表現するタスクで差が顕著で、JSONでは参照関係の精度が58%に留まりました。

アブレーションスタディの結果、デモンストレーション選択戦略が性能向上に大きく寄与していることが判明しました。ランダム選択の場合は79.1%、ラベルマッチングのみの場合は84.2%、コサイン類似度を追加した場合は89.4%と段階的に向上しました。

未知の法律への汎化性を検証した結果、開発セットに含まれない7つの州法で平均87.6%の精度を達成し、良好な汎化性が確認されました。

## 4. 実用性評価
### 4.1 実装の容易性
[評価]。

### 4.2 計算効率
[評価]。

### 4.3 応用可能性
[評価]。

## 5. まとめと所感
### 5.1 論文の意義
[考察・総合評価]。

### 5.2 今後の展望
[将来性や改善点]。